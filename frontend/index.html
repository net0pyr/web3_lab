<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Симулятор Роскомнадзора</title>
</head>

<body>
    <h1 id="message">Loading...</h1>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script>
        async function init() {
            if (window.ethereum) {
                await ethereum.request({ method: 'eth_requestAccounts' });
                const web3 = new Web3(window.ethereum);
                const networkId = await web3.eth.net.getId();

                // Абстракция контракта
                const HelloWorldContract = new web3.eth.Contract([
                    {
                        "constant": true,
                        "inputs": [],
                        "name": "sayHello",
                        "outputs": [{ "name": "", "type": "string" }],
                        "payable": false,
                        "stateMutability": "pure",
                        "type": "function"
                    }
                ], "0xb4AB147713F02a61393e2f0B1a8b4d947d9b15FB");

                // Вызов функции sayHello
                const message = await HelloWorldContract.methods.sayHello().call();
                document.getElementById("message").innerText = message;
            } else {
                document.getElementById("message").innerText = "Metamask not found!";
            }
        }

        window.addEventListener('load', init);
    </script>
</body>

</html>